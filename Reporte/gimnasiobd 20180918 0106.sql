-- Script was generated by Devart dbForge Studio for MySQL, Version 6.0.128.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 9/18/2018 1:06:40 AM
-- Server version: 5.5.5-10.1.34-MariaDB
-- Client version: 4.1

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

-- 
-- Set default database
--
USE gimnasiobd;

--
-- Definition for table persona
--
DROP TABLE IF EXISTS persona;
CREATE TABLE persona (
  IdPersona INT(11) NOT NULL AUTO_INCREMENT,
  Nombre VARCHAR(255) NOT NULL,
  Direccion VARCHAR(255) NOT NULL,
  telefono INT(11) NOT NULL,
  `C.I` INT(11) NOT NULL,
  PRIMARY KEY (IdPersona)
)
ENGINE = INNODB
AUTO_INCREMENT = 31
AVG_ROW_LENGTH = 564
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table personagrupo
--
DROP TABLE IF EXISTS personagrupo;
CREATE TABLE personagrupo (
  idPersona INT(11) NOT NULL,
  idGrupo INT(11) NOT NULL,
  INDEX grupopersona (idGrupo),
  INDEX personagrupo (idPersona)
)
ENGINE = MYISAM
AVG_ROW_LENGTH = 9
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table sala
--
DROP TABLE IF EXISTS sala;
CREATE TABLE sala (
  IdSala INT(11) NOT NULL AUTO_INCREMENT,
  Nombre VARCHAR(255) NOT NULL,
  Ubicacion VARCHAR(255) NOT NULL,
  PRIMARY KEY (IdSala)
)
ENGINE = INNODB
AUTO_INCREMENT = 7
AVG_ROW_LENGTH = 2730
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table clase
--
DROP TABLE IF EXISTS clase;
CREATE TABLE clase (
  IdClase INT(11) NOT NULL AUTO_INCREMENT,
  IdSala INT(11) NOT NULL,
  PRIMARY KEY (IdClase),
  CONSTRAINT SalaClase FOREIGN KEY (IdSala)
    REFERENCES sala(IdSala) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 7
AVG_ROW_LENGTH = 2730
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table instructor
--
DROP TABLE IF EXISTS instructor;
CREATE TABLE instructor (
  IdInstructor INT(11) NOT NULL AUTO_INCREMENT,
  IdPersona INT(11) NOT NULL,
  IdReferencia INT(11) NOT NULL,
  PRIMARY KEY (IdInstructor),
  CONSTRAINT instPerso FOREIGN KEY (IdPersona)
    REFERENCES persona(IdPersona) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT RefPerso FOREIGN KEY (IdReferencia)
    REFERENCES persona(IdPersona) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 11
AVG_ROW_LENGTH = 1638
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table membresia
--
DROP TABLE IF EXISTS membresia;
CREATE TABLE membresia (
  IdMembresia INT(11) NOT NULL AUTO_INCREMENT,
  IdPersona INT(11) NOT NULL,
  Tipo VARCHAR(255) NOT NULL,
  FechaInicio DATE NOT NULL,
  FechaFin DATE NOT NULL,
  PRIMARY KEY (IdMembresia),
  CONSTRAINT MembrePerso FOREIGN KEY (IdPersona)
    REFERENCES persona(IdPersona) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 11
AVG_ROW_LENGTH = 2048
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table vendedor
--
DROP TABLE IF EXISTS vendedor;
CREATE TABLE vendedor (
  IdVendedor INT(11) NOT NULL AUTO_INCREMENT,
  IdPersona INT(11) NOT NULL,
  descuento DOUBLE NOT NULL,
  PRIMARY KEY (IdVendedor),
  CONSTRAINT PersoVended FOREIGN KEY (IdPersona)
    REFERENCES persona(IdPersona) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 4
AVG_ROW_LENGTH = 5461
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table grupo
--
DROP TABLE IF EXISTS grupo;
CREATE TABLE grupo (
  IdGrupo INT(11) NOT NULL AUTO_INCREMENT,
  IdInstructor INT(11) NOT NULL,
  Horario TIME NOT NULL,
  IdClase INT(11) NOT NULL,
  PRIMARY KEY (IdGrupo),
  CONSTRAINT ClaseGrupo FOREIGN KEY (IdClase)
    REFERENCES clase(IdClase) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT GrupoInstruc FOREIGN KEY (IdInstructor)
    REFERENCES instructor(IdInstructor) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 11
AVG_ROW_LENGTH = 1638
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table venta
--
DROP TABLE IF EXISTS venta;
CREATE TABLE venta (
  IdGrupo INT(11) NOT NULL AUTO_INCREMENT,
  IdMembresia INT(11) NOT NULL,
  IdVendedor INT(11) NOT NULL,
  Precio DOUBLE NOT NULL,
  CONSTRAINT GrupoVenta FOREIGN KEY (IdGrupo)
    REFERENCES grupo(IdGrupo) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MembreVenta FOREIGN KEY (IdMembresia)
    REFERENCES membresia(IdMembresia) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT VendedVenta FOREIGN KEY (IdVendedor)
    REFERENCES vendedor(IdVendedor) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 3
AVG_ROW_LENGTH = 16384
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

-- 
-- Dumping data for table persona
--
INSERT INTO persona VALUES
(1, 'Juan Perez', 'Av. America', 76545858, 54854),
(2, 'Felipe Roca', 'Av. Bejing', 75842385, 32147),
(3, 'Diego Cordova', 'Av. Juan', 65475874, 42579),
(4, 'Nico Ayala', 'Av. Santa Cruz', 75443466, 54279),
(5, 'Pablo Branez', 'Av. Centernario', 77410080, 591193),
(6, 'Santiago Iriarte', 'Av. Juan de la Rosa', 78451544, 57459),
(7, 'Andres Sarti', 'Clle. Potosi', 74851445, 457865),
(8, 'Gal Shaufer', 'Av. Blanco Galindo', 74512364, 449442),
(9, 'Pedro', 'Rosales', 743831811, 12839129),
(10, 'Jose', 'Rosales', 743831811, 12839129),
(12, 'Felipe', 'America', 546465, 46464),
(13, 'Juan Ayaviri', 'Casto Rojas', 244667777, 677666),
(14, 'Pedro Sanchez', 'Circunvalacion', 5566656, 45665),
(15, 'Jose Villarroel', 'Yuracare', 655665, 23366),
(16, 'Camila Gonzales', 'Mirador', 55599479, 548665),
(17, 'Sara Salinas', 'America Oeste', 5665959, 488485),
(18, 'Carolina Chavez', 'Las lomas', 659499, 4479899),
(19, 'Carla Sanchez', 'America', 665665, 949926),
(20, 'Sabrina Prada', 'Santa Cruz', 6594946, 849496),
(21, 'Mateo Harasic', 'Cala Cala', 6584962, 8489496),
(22, 'Santiago Juarez', 'Centenario', 64646, 84956),
(23, 'Rodrigo Suarez', 'Beijing', 694966, 4845115),
(24, 'Carolina Del Campo', 'Colon', 4848488, 69963),
(25, 'Pamela Montano', 'Blanco Galindo', 64995965, 64466),
(26, ' Andrea perez', 'oquendo', 668949, 89481),
(27, 'Pablo Ugarte', 'America', 4848949, 899956),
(28, 'Sandra Arevalo', 'Santa Cruz', 6569956, 48489994),
(29, 'Maria Molina', 'Ecuador', 6584848, 852334),
(30, 'Pablo Ramirez', 'America', 44151948, 745448);

-- 
-- Dumping data for table personagrupo
--
INSERT INTO personagrupo VALUES
(1, 1),
(1, 2),
(1, 3),
(2, 2),
(2, 3),
(4, 3),
(4, 2);

-- 
-- Dumping data for table sala
--
INSERT INTO sala VALUES
(1, 'Spinning', 'Piso 1'),
(2, 'Pesas', 'Piso 2'),
(3, 'Crossfit', 'Piso 1'),
(4, 'Sauna', 'Piso 2'),
(5, 'Spinning 2', 'Piso 2'),
(6, 'Spa', 'Piso 2');

-- 
-- Dumping data for table clase
--
INSERT INTO clase VALUES
(2, 1),
(1, 2),
(3, 3),
(4, 4),
(5, 5),
(6, 6);

-- 
-- Dumping data for table instructor
--
INSERT INTO instructor VALUES
(1, 1, 2),
(2, 3, 2),
(3, 5, 2),
(4, 8, 3),
(5, 15, 4),
(6, 16, 5),
(7, 14, 1),
(8, 18, 6),
(9, 17, 6),
(10, 19, 8);

-- 
-- Dumping data for table membresia
--
INSERT INTO membresia VALUES
(1, 1, 'Standard', '2017-09-14', '2018-07-09'),
(2, 1, 'Premium', '2018-09-04', '2019-06-12'),
(3, 5, 'Standard', '2018-09-17', '2018-10-17'),
(4, 15, 'Standard', '2018-09-04', '2018-10-14'),
(5, 16, 'Premium', '2018-09-17', '2018-11-18'),
(6, 28, 'Standard', '2018-09-17', '2018-10-18'),
(7, 29, 'Premium', '2018-09-18', '2018-11-18'),
(9, 1, 'Standard', '2018-09-17', '2018-10-17');

-- 
-- Dumping data for table vendedor
--
INSERT INTO vendedor VALUES
(1, 6, 15),
(2, 8, 7.5),
(3, 7, 5);

-- 
-- Dumping data for table grupo
--
INSERT INTO grupo VALUES
(1, 1, '16:33:08', 2),
(2, 2, '18:00:00', 2),
(3, 3, '19:00:00', 3),
(4, 1, '18:00:00', 1),
(5, 4, '15:00:00', 4),
(6, 5, '14:00:00', 5),
(7, 7, '10:00:00', 6),
(8, 6, '08:00:00', 5),
(9, 9, '20:00:00', 3),
(10, 10, '21:00:00', 1);

-- 
-- Dumping data for table venta
--
INSERT INTO venta VALUES
(2, 9, 1, 100);

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;